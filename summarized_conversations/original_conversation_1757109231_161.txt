{'role': 'assistant', 'content': 'Let\'s create the movie details page component HTML:\n\n<function_calls>\n<create-file file_path="angocine/frontend/angocine/src/app/pages/movie-details/movie-details.component.html">\n<div class="movie-details-page">\n  <!-- Loading State -->\n  <div *ngIf="isLoading" class="loading-container">\n    <div class="spinner"></div>\n    <p>Carregando detalhes do filme...</p>\n  </div>\n  \n  <!-- Error State -->\n  <div *ngIf="error" class="error-container">\n    <div class="alert alert-danger" role="alert">\n      <i class="fas fa-exclamation-circle me-2"></i>\n      {{ error }}\n    </div>\n    <button class="btn btn-primary mt-3" routerLink="/browse">Voltar para o Catálogo</button>\n  </div>\n  \n  <!-- Movie Content -->\n  <ng-container *ngIf="!isLoading && !error && movie">\n    <!-- Hero Section -->\n    <div class="movie-hero" [ngStyle]="{\'background-image\': \'url(\' + getBackdropUrl() + \')\'}">\n      <div class="container">\n        <div class="row">\n          <div class="col-md-4 col-lg-3">\n            <div class="movie-poster">\n              <img [src]="getPosterUrl()" [alt]="movie.title" class="poster-image">\n            </div>\n          </div>\n          <div class="col-md-8 col-lg-9">\n            <div class="movie-info">\n              <h1 class="movie-title">{{ movie.title }}</h1>\n              \n              <div class="movie-meta">\n                <span class="movie-year" *ngIf="movie.release_year">{{ movie.release_year }}</span>\n                <span class="movie-duration" *ngIf="movie.duration">{{ formatDuration() }}</span>\n                <span class="movie-rating" *ngIf="movie.rating">\n                  <i class="fas fa-star"></i> {{ movie.rating }}\n                </span>\n                <span class="movie-maturity" *ngIf="movie.maturity_rating">\n                  {{ movie.maturity_rating }}\n                </span>\n              </div>\n              \n              <div class="movie-genres">\n                <span class="movie-genre" *ngFor="let genre of getGenres()">{{ genre }}</span>\n              </div>\n              \n              <p class="movie-description">{{ movie.description }}</p>\n              \n              <div class="movie-details">\n                <div class="detail-item" *ngIf="movie.director">\n                  <span class="detail-label">Diretor:</span>\n                  <span class="detail-value">{{ movie.director }}</span>\n                </div>\n                <div class="detail-item" *ngIf="movie.cast">\n                  <span class="detail-label">Elenco:</span>\n                  <span class="detail-value">{{ movie.cast }}</span>\n                </div>\n                <div class="detail-item" *ngIf="movie.language">\n                  <span class="detail-label">Idioma:</span>\n                  <span class="detail-value">{{ movie.language }}</span>\n                </div>\n              </div>\n              \n              <div class="movie-actions">\n                <button class="btn btn-primary btn-lg" (click)="watchMovie()">\n                  <i class="fas fa-play me-2"></i> Assistir\n                </button>\n                <button class="btn btn-outline-light btn-lg ms-3" (click)="openTrailer()" *ngIf="trailerUrl">\n                  <i class="fas fa-film me-2"></i> Trailer\n                </button>\n                <app-watchlist-button \n                  [movieId]="movie.id" \n                  size="lg" \n                  variant="outline" \n                  class="ms-3">\n                </app-watchlist-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Content Sections -->\n    <div class="container movie-content">\n      <div class="row">\n        <div class="col-lg-8">\n          <!-- Reviews Section -->\n          <section class="movie-section">\n            <h2 class="section-title">Avaliações e Comentários</h2>\n            \n            <!-- Review Form -->\n            <div class="review-form" *ngIf="isLoggedIn && currentProfile">\n              <h3 class="form-title">Deixe sua avaliação</h3>\n              \n              <div class="form-group">\n                <label>Sua avaliação:</label>\n                <app-rating-stars \n                  [(rating)]="userRating" \n                  [maxRating]="5" \n                  size="lg">\n                </app-rating-stars>\n              </div>\n              \n              <div class="form-group">\n                <label for="reviewComment">Seu comentário (opcional):</label>\n                <textarea \n                  id="reviewComment" \n                  class="form-control" \n                  rows="3" \n                  [(ngModel)]="userReview" \n                  placeholder="Escreva um comentário sobre o filme...">\n                </textarea>\n              </div>\n              \n              <div class="alert alert-danger" *ngIf="reviewError">\n                <i class="fas fa-exclamation-circle me-2"></i>\n                {{ reviewError }}\n              </div>\n              \n              <button \n                class="btn btn-primary" \n                (click)="submitReview()" \n                [disabled]="isSubmittingReview">\n                <span *ngIf="isSubmittingReview" class="spinner-border spinner-border-sm me-2" role="status"></span>\n                Enviar Avaliação\n              </button>\n            </div>\n            \n            <!-- Login to Review -->\n            <div class="login-to-review" *ngIf="!isLoggedIn">\n              <p>Faça login para deixar sua avaliação</p>\n              <a routerLink="/auth/login" [queryParams]="{returnUrl: \'/movie/\' + movie.id}" class="btn btn-outline-primary">\n                Entrar\n              </a>\n            </div>\n            \n            <!-- Select Profile to Review -->\n            <div class="login-to-review" *ngIf="isLoggedIn && !currentProfile">\n              <p>Selecione um perfil para deixar sua avaliação</p>\n              <a routerLink="/profile" class="btn btn-outline-primary">\n                Selecionar Perfil\n              </a>\n            </div>\n            \n            <!-- Reviews List -->\n            <div class="reviews-list">\n              <h3 class="reviews-title">\n                {{ reviews.length }} Avaliações\n                <span *ngIf="movie.ratings?.average">(Média: {{ movie.ratings.average }})</span>\n              </h3>\n              \n              <!-- No Reviews -->\n              <div class="no-reviews" *ngIf="reviews.length === 0">\n                <p>Ainda não há avaliações para este filme. Seja o primeiro a avaliar!</p>\n              </div>\n              \n              <!-- Reviews -->\n              <div class="review-item" *ngFor="let review of reviews">\n                <div class="review-header">\n                  <div class="review-user">\n                    <i class="fas fa-user-circle"></i>\n                    <span class="review-username">{{ review.username }}</span>\n                  </div>\n                  <div class="review-rating">\n                    <app-rating-stars [rating]="review.rating" [readonly]="true" size="sm"></app-rating-stars>\n                  </div>\n                </div>\n                <div class="review-content" *ngIf="review.comment">\n                  {{ review.comment }}\n                </div>\n                <div class="review-date">\n                  {{ review.created_at | date:\'dd/MM/yyyy\' }}\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n        \n        <div class="col-lg-4">\n          <!-- Similar Movies -->\n          <section class="movie-section" *ngIf="similarMovies.length > 0">\n            <h2 class="section-title">Filmes Similares</h2>\n            <div class="similar-movies">\n              <div class="similar-movie" *ngFor="let similarMovie of similarMovies">\n                <app-movie-card [movie]="similarMovie" [size]="\'small\'"></app-movie-card>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n  \n  <!-- Trailer Modal -->\n  <app-modal *ngIf="showTrailer" [title]="movie?.title + \' - Trailer\'" (closed)="closeTrailer()" size="lg">\n    <div class="trailer-container">\n      <iframe *ngIf="trailerUrl" [src]="trailerUrl" frameborder="0" allowfullscreen></iframe>\n    </div>\n  </app-modal>\n</div>\n</create-file>\n</function_calls>'}