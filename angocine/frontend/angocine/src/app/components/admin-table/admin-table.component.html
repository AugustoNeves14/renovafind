<div class="admin-table-container">
  <!-- Loading State -->
  <div *ngIf="loading" class="admin-table-loading">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
    <p>Carregando dados...</p>
  </div>
  
  <!-- Empty State -->
  <div *ngIf="!loading && data.length === 0" class="admin-table-empty">
    <i class="fas fa-inbox"></i>
    <p>Nenhum dado encontrado</p>
  </div>
  
  <!-- Table -->
  <div *ngIf="!loading && data.length > 0" class="admin-table-wrapper">
    <table class="admin-table">
      <thead>
        <tr>
          <th *ngFor="let column of columns" 
              [ngClass]="getColumnClass(column)"
              [style.width]="getColumnWidth(column)"
              (click)="column.sortable ? onSortChange(column.key) : null">
            {{ column.label }}
            <i *ngIf="column.sortable" class="fas" [ngClass]="getSortIcon(column.key)"></i>
          </th>
          <th *ngIf="showActions" class="actions-column">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of data" (click)="onRowClick(item)">
          <td *ngFor="let column of columns">
            <ng-container [ngSwitch]="column.key">
              <!-- Custom cell templates based on column key -->
              <ng-container *ngSwitchCase="'image'">
                <div class="table-image" *ngIf="item.image || item.poster_url || item.avatar">
                  <img [src]="item.image || item.poster_url || item.avatar" [alt]="item.title || item.name">
                </div>
              </ng-container>
              
              <ng-container *ngSwitchCase="'status'">
                <span class="status-badge" [ngClass]="'status-' + item.status">
                  {{ item.status }}
                </span>
              </ng-container>
              
              <ng-container *ngSwitchCase="'rating'">
                <div class="rating-display">
                  <i class="fas fa-star"></i>
                  {{ item.rating }}
                </div>
              </ng-container>
              
              <ng-container *ngSwitchDefault>
                {{ getValueByPath(item, column.key) }}
              </ng-container>
            </ng-container>
          </td>
          
          <!-- Action Buttons -->
          <td *ngIf="showActions" class="actions-cell">
            <div class="action-buttons">
              <button *ngFor="let action of actionButtons"
                      class="btn btn-sm" 
                      [ngClass]="action.class"
                      [title]="action.label"
                      (click)="onActionClick(action.label.toLowerCase(), item, $event)">
                <i class="fas" [ngClass]="action.icon"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Pagination -->
  <div *ngIf="!loading && totalItems > itemsPerPage" class="admin-table-pagination">
    <pagination 
      [totalItems]="totalItems"
      [itemsPerPage]="itemsPerPage"
      [(ngModel)]="currentPage"
      (pageChanged)="onPageChange($event.page)"
      [maxSize]="5"
      [boundaryLinks]="true"
      previousText="&lsaquo;"
      nextText="&rsaquo;"
      firstText="&laquo;"
      lastText="&raquo;">
    </pagination>
  </div>
</div>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>