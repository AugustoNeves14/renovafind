<div class="filters-panel">
  <div class="filters-header">
    <h3 class="filters-title">Filtros</h3>
    <div class="filters-actions">
      <button class="btn btn-sm btn-outline-primary" *ngIf="hasActiveFilters()" (click)="clearFilters()">
        Limpar Filtros
      </button>
      <button class="btn btn-sm btn-link d-md-none" (click)="toggleExpand()">
        {{ isExpanded ? 'Ocultar' : 'Mostrar' }} Filtros
        <i class="fas" [ngClass]="isExpanded ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
      </button>
    </div>
  </div>
  
  <div class="filters-body" [ngClass]="{'expanded': isExpanded}">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center py-3">
      <div class="spinner-border spinner-border-sm text-primary" role="status">
        <span class="visually-hidden">Carregando...</span>
      </div>
      <p class="mt-2 mb-0">Carregando filtros...</p>
    </div>
    
    <!-- Filters Content -->
    <div *ngIf="!isLoading" class="filters-content">
      <!-- Genres Filter -->
      <div class="filter-group">
        <h4 class="filter-label">Gêneros</h4>
        <div class="filter-chips">
          <button *ngFor="let genre of genres" 
                  class="filter-chip" 
                  [ngClass]="{'active': selectedGenre === genre}"
                  (click)="selectGenre(genre)">
            {{ genre }}
          </button>
        </div>
      </div>
      
      <!-- Years Filter -->
      <div class="filter-group">
        <h4 class="filter-label">Ano de Lançamento</h4>
        <div class="filter-chips">
          <button *ngFor="let year of years.slice(0, 10)" 
                  class="filter-chip" 
                  [ngClass]="{'active': selectedYear === year}"
                  (click)="selectYear(year)">
            {{ year }}
          </button>
        </div>
      </div>
      
      <!-- Languages Filter -->
      <div class="filter-group">
        <h4 class="filter-label">Idioma</h4>
        <div class="filter-chips">
          <button *ngFor="let language of languages" 
                  class="filter-chip" 
                  [ngClass]="{'active': selectedLanguage === language}"
                  (click)="selectLanguage(language)">
            {{ language }}
          </button>
        </div>
      </div>
      
      <!-- Rating Filter -->
      <div class="filter-group">
        <h4 class="filter-label">Avaliação Mínima</h4>
        <div class="filter-chips">
          <button *ngFor="let rating of ratings" 
                  class="filter-chip" 
                  [ngClass]="{'active': selectedRating === rating}"
                  (click)="selectRating(rating)">
            <i class="fas fa-star"></i> {{ rating }}+
          </button>
        </div>
      </div>
      
      <!-- Sort Options -->
      <div class="filter-group">
        <h4 class="filter-label">Ordenar Por</h4>
        <div class="row">
          <div class="col-md-6">
            <select class="form-select" [value]="selectedSort" (change)="selectSort($event.target.value)">
              <option *ngFor="let option of sortOptions" [value]="option.value">
                {{ option.label }}
              </option>
            </select>
          </div>
          <div class="col-md-6 mt-2 mt-md-0">
            <select class="form-select" [value]="selectedOrder" (change)="selectOrder($event.target.value)">
              <option *ngFor="let option of orderOptions" [value]="option.value">
                {{ option.label }}
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>