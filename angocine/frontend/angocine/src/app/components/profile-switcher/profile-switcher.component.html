<div class="profile-switcher-container">
  <h2 class="profile-switcher-title">Quem est√° assistindo?</h2>
  
  <!-- Loading State -->
  <div *ngIf="isLoading" class="text-center py-4">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
    <p class="mt-3">Carregando perfis...</p>
  </div>
  
  <!-- Profiles Grid -->
  <div *ngIf="!isLoading" class="profiles-grid">
    <!-- Profile Items -->
    <div *ngFor="let profile of profiles" class="profile-item" (click)="selectProfile(profile)">
      <div class="profile-avatar-wrapper" [class.active]="isCurrentProfile(profile)">
        <img [src]="profile.avatar" [alt]="profile.name" class="profile-avatar">
        <div class="profile-avatar-overlay" *ngIf="isCurrentProfile(profile)">
          <i class="fas fa-check"></i>
        </div>
      </div>
      <p class="profile-name">{{ profile.name }}</p>
      <span class="profile-badge" *ngIf="profile.is_kid">Infantil</span>
    </div>
    
    <!-- Add Profile Button -->
    <div *ngIf="showAddButton && profiles.length < 5" class="profile-item add-profile" routerLink="/profile/add">
      <div class="profile-avatar-wrapper add">
        <i class="fas fa-plus"></i>
      </div>
      <p class="profile-name">Adicionar Perfil</p>
    </div>
  </div>
  
  <!-- Manage Profiles Button -->
  <div *ngIf="!isLoading && showManageButton" class="profile-actions">
    <button class="btn btn-outline-secondary" routerLink="/profile/manage">
      Gerenciar Perfis
    </button>
  </div>
</div>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>